{"version":3,"file":"comments-comments-tab.js?v=4148a598bb468e80192d","mappings":";qIAuBA,IAAIA,EAAc,KACZC,EAAQ,WACRC,EAAa,IAAIC,IAAIC,MAAMC,QAAQC,IAAI,CAC5CC,GAAIN,EACJO,KAAMC,EAAE,WAAY,YACpBC,KAAM,eAEAC,MALsC,SAKhCC,EAAIC,EAAUC,GAAS,sIAC9Bd,GACHA,EAAYe,WAEbf,EAAc,IAAIG,IAAIa,SAASC,KAAK,QAAS,CAE5CC,OAAQJ,IANyB,SAS5Bd,EAAYmB,OAAON,EAASN,IATA,OAUlCP,EAAYoB,OAAOR,GAEfT,IAAIC,MAAMC,QAAQgB,MAAMC,YAAcrB,GACzCD,EAAYuB,OAAOV,EAASN,IAbK,kOAgBnCgB,OArB4C,SAqBrCV,GACNb,EAAYuB,OAAOV,EAASN,KAE7BY,OAxB4C,SAwBrCN,GAEFV,IAAIC,MAAMC,QAAQgB,MAAMC,YAAcrB,GACzCD,EAAYuB,OAAOV,EAASN,IAE7BP,EAAYmB,OAAON,EAASN,KAE7BiB,QA/B4C,WAgC3CxB,EAAYe,WACZf,EAAc,MAEfyB,oBAnC4C,WAoC3CzB,EAAY0B,2BAIdC,OAAOC,iBAAiB,oBAAoB,WACvCzB,IAAIC,OAASD,IAAIC,MAAMC,SAC1BF,IAAIC,MAAMC,QAAQwB,YAAY3B","sources":["webpack:///nextcloud/apps/comments/src/comments-tab.js"],"sourcesContent":["/**\n * @copyright Copyright (c) 2020 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n// Init Comments tab component\nlet TabInstance = null\nconst tabId = 'comments'\nconst commentTab = new OCA.Files.Sidebar.Tab({\n\tid: tabId,\n\tname: t('comments', 'Comments'),\n\ticon: 'icon-comment',\n\n\tasync mount(el, fileInfo, context) {\n\t\tif (TabInstance) {\n\t\t\tTabInstance.$destroy()\n\t\t}\n\t\tTabInstance = new OCA.Comments.View('files', {\n\t\t\t// Better integration with vue parent component\n\t\t\tparent: context,\n\t\t})\n\t\t// Only mount after we have all the info we need\n\t\tawait TabInstance.update(fileInfo.id)\n\t\tTabInstance.$mount(el)\n\t\t// Run active handler on mount\n\t\tif (OCA.Files.Sidebar.state.activeTab === tabId) {\n\t\t\tTabInstance.active(fileInfo.id)\n\t\t}\n\t},\n\tactive(fileInfo) {\n\t\tTabInstance.active(fileInfo.id)\n\t},\n\tupdate(fileInfo) {\n\t\t// Run active handler on sidebar update when switching between file/folder contexts\n\t\tif (OCA.Files.Sidebar.state.activeTab === tabId) {\n\t\t\tTabInstance.active(fileInfo.id)\n\t\t}\n\t\tTabInstance.update(fileInfo.id)\n\t},\n\tdestroy() {\n\t\tTabInstance.$destroy()\n\t\tTabInstance = null\n\t},\n\tscrollBottomReached() {\n\t\tTabInstance.onScrollBottomReached()\n\t},\n})\n\nwindow.addEventListener('DOMContentLoaded', function() {\n\tif (OCA.Files && OCA.Files.Sidebar) {\n\t\tOCA.Files.Sidebar.registerTab(commentTab)\n\t}\n})\n"],"names":["TabInstance","tabId","commentTab","OCA","Files","Sidebar","Tab","id","name","t","icon","mount","el","fileInfo","context","$destroy","Comments","View","parent","update","$mount","state","activeTab","active","destroy","scrollBottomReached","onScrollBottomReached","window","addEventListener","registerTab"],"sourceRoot":""}